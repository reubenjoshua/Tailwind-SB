!function(e,n,t,r,o,u){"use strict";!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=16)}([function(e,n){var t="[object AsyncFunction]",r="[object Function]",o="[object GeneratorFunction]",u="[object Null]",i="[object Proxy]",a="[object Undefined]",c="object"==typeof global&&global&&global.Object===Object&&global,l="object"==typeof self&&self&&self.Object===Object&&self,f=c||l||Function("return this")(),s=Object.prototype,d=s.hasOwnProperty,v=s.toString,p=f.Symbol,y=p?p.toStringTag:void 0;function b(e){return null==e?void 0===e?a:u:y&&y in Object(e)?function(e){var n=d.call(e,y),t=e[y];try{e[y]=void 0;var r=!0}catch(e){}var o=v.call(e);r&&(n?e[y]=t:delete e[y]);return o}(e):function(e){return v.call(e)}(e)}e.exports=function(e){if(!function(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}(e))return!1;var n=b(e);return n==r||n==o||n==t||n==i}},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),i=o(4),a=function(e){return e&&e.__esModule?e:{default:e}}(o(0));var c=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}return u(e,null,[{key:"xhrGetRequest",value:function(e,n){var o=new t;(0,a.default)(n)&&(o.onreadystatechange=function(){4===o.readyState&&200===o.status&&n(o.responseText)}),o.withCredentials=!0,o.open("GET",r(e)),o.send()}},{key:"imageGetRequest",value:function(e){(0,i.loadResourceEl)("img",{src:r(e)})}}]),e}();n.default=c},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0});n.errorSources={sync:"sync-js",conversion:"conversion-js",consent:"consent-js"},n.invocations={init:"init",track:"track"},n.errors={bootstrapMissing:"missing bootstrap objects",onetrustMissing:"onetrust variables are missing"},n.intervals={polling:1e3}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(t(1));var u=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"report",value:function(e,n){var t=e.name+"-"+e.message;o.default.imageGetRequest("https://pixel.spotify.com/v1/client-error?source="+n+"&error="+t)}}]),e}();n.default=u},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.loadResourceEl=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(r(0));var u=["img","script"];t.loadResourceEl=function(e,t,r){if(u.indexOf(e.toLowerCase())>=0){t.async=!0;var i=Object.assign(n.createElement(e),t);return(0,o.default)(r)&&(i.onload=r),i}}},,,,,function(e,n){var t=Array.isArray;e.exports=t},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}();var o=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"=",value:function(e,n){return e===n}},{key:"⊃",value:function(e,n){return e.indexOf(n)>=0}},{key:"!⊃",value:function(){return!this["⊃"].apply(this,arguments)}}]),e}();n.default=o},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.evalRules=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(t(10));var o=function(e,n){return n.reduce(function(n,t){return n&&function(e,n){return n.reduce(function(n,t){return n||r.default[t[0]](e,t[1])},!1)}(e,t)},!0)};n.evalRules=function(e,n){return o(e,n)}},function(n,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.execute=void 0;var i=f(r(1)),a=r(11),c=f(r(3)),l=r(2);function f(e){return e&&e.__esModule?e:{default:e}}var s="",d=function(n,t){var r=e.location.href;s!==r&&t.forEach(function(e){var t=e.event_id,o=e.data,u=e.rule;(0,a.evalRules)(r,u)&&n.track(t,o)}),s=r};t.execute=function(e){try{var n="https://pixel.spotify.com/v1/conversion/rule?pixel_id="+e.id;i.default.xhrGetRequest(n,function(n){var t=o.parse(n);d(e,t),u(function(){d(e,t)},l.intervals.polling)})}catch(e){c.default.report(e,l.errorSources.conversion)}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),u=function(e){return e&&e.__esModule?e:{default:e}}(t(1));var i=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=n}return r(e,[{key:"track",value:function(e,n){var t=n?o.stringify(n):"",r="https://pixel.spotify.com/v1/conversion?pixel_id="+this.id+"&event_id="+e+"&data="+t;u.default.xhrGetRequest(r)}}]),e}();n.default=i},function(n,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.mountSdk=t.getNSConv=t.findTrackingCalls=t.findInitPixelId=void 0;var o=function(){return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,n){var t=[],r=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){o=!0,u=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw u}}return t}(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(e){return e&&e.__esModule?e:{default:e}}(r(13)),i=r(2),a=r(12);var c=function(e){return e.filter(function(e){return o(e,1)[0]===i.invocations.track})};t.findInitPixelId=function(e){return e.filter(function(e){return o(e,1)[0]===i.invocations.init}).map(function(e){return e[1]})[0]},t.findTrackingCalls=c,t.getNSConv=function(){var n=e.spotAds,t=(n=void 0===n?{}:n).conv;return void 0===t?{}:t},t.mountSdk=function(e,n){var t=new u.default(e);(0,a.execute)(t),n.sdk=function(e,n,r){e===i.invocations.track&&t.track(n,r)},c(n.q).forEach(function(e){return n.sdk.apply(n,function(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}(e))}),n.q=[]}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),o=l(t(3)),u=t(2),i=t(14),a=l(t(0)),c=l(t(9));function l(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"run",value:function(){var e=(0,i.getNSConv)();if((0,c.default)(e.q)&&(0,a.default)(e.sdk)){var n=(0,i.findInitPixelId)(e.q);n?(0,i.mountSdk)(n,e):e.sdk=function(n){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];if(n===u.invocations.track)e.q.push([n].concat(r));else if(n===u.invocations.init){var a=[].concat(r)[0];a&&(0,i.mountSdk)(a,e)}}}else o.default.report(new Error(u.errors.bootstrapMissing),u.errorSources.conversion)}}]),e}();n.default=f},function(e,n,t){var r=function(e){return e&&e.__esModule?e:{default:e}}(t(15));try{r.default.run()}catch(e){}}])}(window,document,XMLHttpRequest,encodeURI,JSON,setInterval);